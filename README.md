Small web project to manage Assetto Corsa Competizione servers, build on Django.
Allows to manage multiple configs and multiple server instances. Works in Linux and in Windows, dunno about OSX.


## Quick start
```bash
git clone https://github.com/gotzl/accservermanager.git
cd accservermanager/
# Configure the things at the bottom of accservermanager/settings.py, ie the path to your ACC server files
python manage.py migrate
python manage.py createsuperuser
python manage.py runserver
``` 

Now you should be able to access the service at localhost:8000.
After login, you can add more users with djangos admin pages (...:8000/admin).

Currently, the web-app consists of two sub-apps
* cfgs: Basically creates an autogenerated view from ACCs event.json, navigating through the object. Allows to create and edit multiple configurations, they are stored in the folder 'settings.CONFIGS'.
* instances: Start a new ACC server instance or stop/delete running instances. Each instance uses a copy of the ACC 'server' directory, which is placed in the folder 'settings.INSTANCES'.



## Dependencies
```bash
pip install django django-material django_tables2 django-bootstrap-breadcrumbs random-word
```
Windows users might want to follow the official Django install instructions.


## Deployment
Follow the quick start instructions to deploy the app, should be good enough for our purposes...

Alternatively, I've created a Dockerfile which uses wine to run the ACC server.

```bash
# Create the image
docker build -t accservermanager .
# fire up a container
docker run -d --name accservermanager -e SECRET_KEY=RANDOM_SEQUENCE -v PATH_TO_ACC/server:/server -p 8000:8000 -p 9231:9231/udp -p 9232:9232/tcp accservermanager
# initiate the app and create a manager user
docker exec -i -t accservermanager python3 manage.py migrate
docker exec -i -t accservermanager python3 manage.py createsuperuser
```


## Persistence
Things that should be backuped (in case of docker, stored outside the container):
* The folder 'settings.CONFIGS' which containes the created configs.
* The DB file 'db.sqlite3' which contains the user store.
* The 'settings.py' with the custom configuration values (however, the settings.py will change with new versions of this application).
